PART
{
	// --- general parameters ---
	name = kpaATACMS
	module = Part
	author = Spartwo

	// --- asset parameters ---
  	//mesh = ATACMS.mu
	MODEL
	{
		model = KerbalPowers/Armory/Parts/Ballistics/ATACMS
	}
	rescaleFactor = 1


	// --- node definitions ---
	node_attach = 0, 0.31, -0.38, 0, 1, 0, 0
	node_stack_top = 0, 0.31, -0.38, 0, 1, 0, 0
	node_stack_bottom = 0, 0, -2, 0, 0, -1, 0
	
	// --- editor parameters ---
	TechRequired = precisionEngineering
	entryCost = 210
	cost = 950
	category = none
	bdacategory = Missiles
	subcategory = 0
	
	attachRules = 1,1,0,0,1 // attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	bulkheadProfiles = srf
	
	title = #LOC_KPDynamics_ATACMS_title
	manufacturer = #loc_BDArmory_agent_title  //I Dunno who
	description = #LOC_KPDynamics_ATACMS_description
	tags = #LOC_KPDynamics_ballistic_tags 


	// --- standard part parameters ---
	mass = 2.25
	dragModelType = default
	maximum_drag = 0.01
	minimum_drag = 0.01
	angularDrag = 2
	crashTolerance = 5
	maxTemp = 3600


	MODULE
	{
		name = MissileLauncher
			
		shortName = #LOC_KPDynamics_ATACMS_weapon
  
		//All 3 Ballistics operate the same engine with varying loads
		thrust = 70 //KN thrust during boost phase
		cruiseThrust = 65 //thrust during cruise phase
		dropTime = 0 //how many seconds after release until engine ignites
		boostTime = 0 //seconds of boost phase
		cruiseTime = 240 //seconds of cruise phase
		guidanceActive = true //missile has guidanceActive
		maxTurnRateDPS = 200
		
		decoupleSpeed = 10
		decoupleForward = true

		rotationTransformName = missileTransform
		BallisticAngle = 45
		cruisedelay = 10

		audioClipPath = BDArmory/Sounds/rocketLoop
		exhaustPrefabPath = BDArmory/Models/exhaust/mediumExhaust
		ExhaustTransformName = exhaustTransform
		
		deployAnimationName = ATACMS_Deploy
		deployTime = 0.35

		optimumAirspeed = 1200

		aero = false
		maxAOA = 20
		steerMult = 15
		maxTorque = 250

		missileType = missile
		homingType = AGMBallistic
		targetingType = gps
		activeRadarRange = 60000  
		maxOffBoresight = 180
		lockedSensorFOV = 50		
		radarTimeout = 120

		terminalManeuvering = true
		terminalGuidanceType = radar
		terminalGuidanceDistance = 4500

		minStaticLaunchRange = 2
		maxStaticLaunchRange = 60000

		engageAir = false
		engageMissile = false
		engageGround = true
		engageSLW = true
  
		activeRadarLockTrackCurve
		{
				key = 0	0
				key = 10 0	
				key = 15 0
				key = 20 0.325
				key = 40 1.953
				key = 80 3.125
				key = 160 5				
		}
		
		radarLOAL = true 
	}

	MODULE
	{
		name = BDExplosivePart
		tntMass = 80
		warheadType = ShapedCharge
		caliber = 172
	}

	MODULE
	{
	  name = ClusterBomb

	  deployAltitude = 700
	  deployDelay = 2.5
	  submunitionMaxSpeed = 20
	  swapCollidersOnDeploy = true

	  subExplModelPath = BDArmory/Models/explosion/explosion
	  subExplSoundPath = BDArmory/Sounds/subExplode
	}
	
	MODULE
	{
		name = ModulePartVariants
		baseVariant = Coloured
		useMultipleDragCubes = false
		VARIANT
		{
			name = Coloured
			displayName = #LOC_KPDynamics_Variant_Coloured
			themeName = GrayAndWhite
			primaryColor = #664452
			secondaryColor = #B7B082
			TEXTURE
			{
				mainTextureURL = KerbalPowers/Armory/Parts/Ballistics/Ballistic_Tex_Colour
			}
		}
		VARIANT
		{
			name = Inert
			displayName = #LOC_KPDynamics_Variant_White
			themeName = GrayAndWhite
			primaryColor = #CECECE
			secondaryColor = #E0A000
			TEXTURE
			{
				mainTextureURL = KerbalPowers/Armory/Parts/Ballistics/Ballistic_Tex_White 
			}
		}
	}
}
